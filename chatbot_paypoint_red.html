<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paypoint Family Portal - ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏£‡∏ß‡∏°‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏ü‡∏£‡∏ô‡πÑ‡∏ä‡∏™‡πå</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Prompt -->
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&family=Sarabun:wght@400;600&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Marked.js -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <style>
        body { 
            font-family: 'Prompt', sans-serif; 
            background-color: #f0f4f8; 
            color: #334155; 
            scroll-behavior: smooth;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        /* Card Hover Effects */
        .hover-card { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .hover-card:hover { transform: translateY(-4px); box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.1); }

        /* Section Title Styling */
        .section-header {
            display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1.5rem;
            padding-bottom: 0.5rem; border-bottom: 2px solid #e2e8f0;
        }
        .section-title { font-size: 1.25rem; font-weight: 700; color: #1e293b; }
        
        /* Lock Screen */
        #lock-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            z-index: 9999; display: flex; align-items: center; justify-content: center;
            flex-direction: column;
        }

        /* --- Chatbot Widget Styles (Red Theme) --- */
        .chat-container {
            font-family: 'Sarabun', sans-serif;
            display: flex; flex-direction: column; height: 100%; background: white;
        }
        .chat-header {
            /* Changed to Red-Orange Gradient */
            background: linear-gradient(to right, #dc2626, #f97316); 
            color: white;
            padding: 15px; display: flex; justify-content: space-between; align-items: center;
        }
        .chat-messages {
            flex: 1; overflow-y: auto; padding: 15px; background: #f8fafc;
            display: flex; flex-direction: column; gap: 10px;
        }
        .chat-input-area {
            padding: 10px; border-top: 1px solid #e2e8f0; background: white;
            display: flex; gap: 8px; position: relative;
        }
        .chat-input {
            flex: 1; padding: 10px 15px; border: 2px solid #e2e8f0; border-radius: 20px;
            outline: none; font-size: 0.9em; transition: border-color 0.2s;
        }
        .chat-input:focus { border-color: #dc2626; }
        .chat-send-btn {
            background: #dc2626; color: white; border: none; width: 40px; height: 40px;
            border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center;
            transition: background 0.2s;
        }
        .chat-send-btn:hover { background: #b91c1c; }

        /* Message Bubbles */
        .msg { max-width: 85%; padding: 8px 12px; border-radius: 12px; font-size: 0.9em; line-height: 1.4; word-wrap: break-word; }
        .msg.bot { background: #fff1f2; color: #0f172a; align-self: flex-start; border-top-left-radius: 2px; border: 1px solid #ffe4e6; }
        .msg.user { background: #dc2626; color: white; align-self: flex-end; border-top-right-radius: 2px; }
        .msg.backup { border: 1px solid #fca5a5; background: #fef2f2; }
        
        /* Suggestions */
        .suggestions { display: flex; gap: 5px; overflow-x: auto; padding: 5px 15px; background: white; border-bottom: 1px solid #f1f5f9; white-space: nowrap; }
        .chip {
            background: #fff7ed; color: #c2410c; padding: 4px 10px; border-radius: 12px;
            font-size: 0.75em; cursor: pointer; border: 1px solid #ffedd5; transition: all 0.2s;
        }
        .chip:hover { background: #c2410c; color: white; }
        
        /* Typing Animation */
        .typing-dot { animation: typing 1.4s infinite ease-in-out both; }
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typing { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }
    </style>
</head>
<body class="min-h-screen flex flex-col relative overflow-hidden" id="main-body">

    <!-- LOCK SCREEN (Password Protection) -->
    <div id="lock-screen">
        <div class="bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md text-center m-4">
            <div class="mb-6">
                <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fa-solid fa-lock text-3xl text-blue-600"></i>
                </div>
                <h2 class="text-2xl font-bold text-slate-800">‡∏£‡∏∞‡∏ö‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô (Internal)</h2>
                <p class="text-slate-500 text-sm mt-1">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>
            </div>
            
            <form onsubmit="checkPassword(event)" class="space-y-4">
                <div class="relative">
                    <input type="password" id="passwordInput" 
                        class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-blue-500 focus:outline-none transition text-center text-lg tracking-widest"
                        placeholder="Enter Passcode" required>
                </div>
                <button type="submit" 
                    class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-xl transition shadow-lg shadow-blue-200">
                    ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
                </button>
            </form>
            <p id="error-msg" class="text-red-500 text-sm mt-3 hidden"><i class="fa-solid fa-circle-exclamation"></i> ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</p>
        </div>
        <p class="text-slate-500 text-xs mt-8">Paypoint Family Portal System</p>
    </div>

    <!-- MAIN CONTENT (Hidden by default) -->
    <div id="app-content" class="hidden">
        <!-- Navbar -->
        <nav class="bg-white/95 backdrop-blur-sm border-b border-slate-200 sticky top-0 z-30 shadow-sm">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <img src="https://tuikub.github.io/tracking//paypoint.png" alt="Logo" class="w-9 h-9 object-contain drop-shadow-sm">
                    <div>
                        <h1 class="font-bold text-slate-800 text-lg leading-tight tracking-tight">PAYPOINT FAMILY</h1>
                        <p class="text-[10px] text-slate-500 font-medium">Portal Center</p>
                    </div>
                </div>
                <div class="hidden md:flex items-center gap-4 text-sm font-medium text-slate-600">
                    <a href="#training" class="hover:text-blue-600 transition">‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠/‡∏≠‡∏ö‡∏£‡∏°</a>
                    <a href="#forms" class="hover:text-blue-600 transition">‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</a>
                    <a href="#contact" class="hover:text-green-600 transition"><i class="fa-solid fa-headset mr-1"></i> ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</a>
                </div>
            </div>
        </nav>

        <!-- Header Section -->
        <header class="relative bg-gradient-to-r from-blue-900 to-slate-900 text-white pt-10 pb-20 px-4 overflow-hidden">
            <div class="absolute top-0 right-0 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl -mr-10 -mt-10"></div>
            <div class="relative z-10 max-w-4xl mx-auto text-center">
                <span class="inline-block py-1 px-3 rounded-full bg-white/10 border border-white/20 text-blue-100 text-xs font-bold mb-4 backdrop-blur-sm">
                    <i class="fa-solid fa-shield-halved mr-1"></i> Authorized Access Only
                </span>
                <h2 class="text-3xl md:text-4xl font-bold mb-3 tracking-tight">‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏£‡∏ß‡∏°‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏™‡∏≤‡∏Ç‡∏≤</h2>
                <p class="text-slate-300 text-sm md:text-base font-light">
                    ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡∏∞‡∏ö‡∏ö ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ ‡πÅ‡∏•‡∏∞‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
                </p>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-12 relative z-20 pb-20 space-y-10">
            
            <!-- 1. Quick Access -->
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4">
                <!-- Login -->
                <a href="https://merchant.paypoint.in.th/auth/login" target="_blank" class="hover-card bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex flex-col items-center text-center gap-3 group">
                    <div class="w-12 h-12 rounded-xl bg-orange-100 text-orange-600 flex items-center justify-center text-2xl group-hover:bg-orange-500 group-hover:text-white transition-colors">
                        <i class="fa-solid fa-right-to-bracket"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-slate-700 text-sm">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h3>
                        <p class="text-[10px] text-slate-400 mt-1">Merchant Login</p>
                    </div>
                </a>

                <!-- Printer Fix -->
                <a href="https://tuikub.github.io/paypoint/1.html" class="hover-card bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex flex-col items-center text-center gap-3 group">
                    <div class="w-12 h-12 rounded-xl bg-blue-100 text-blue-600 flex items-center justify-center text-2xl group-hover:bg-blue-500 group-hover:text-white transition-colors">
                        <i class="fa-solid fa-print"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-slate-700 text-sm">‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏õ‡∏£‡∏¥‡πâ‡∏ô‡πÄ‡∏ï‡∏≠‡∏£‡πå</h3>
                        <p class="text-[10px] text-slate-400 mt-1">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤/‡πÑ‡∏î‡∏£‡πå‡πÄ‡∏ß‡∏≠‡∏£‡πå</p>
                    </div>
                </a>

                <!-- Dispute Guide -->
                <a href="https://tuikub.github.io/paypoint/Digital.html" class="hover-card bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex flex-col items-center text-center gap-3 group">
                    <div class="w-12 h-12 rounded-xl bg-red-100 text-red-600 flex items-center justify-center text-2xl group-hover:bg-red-500 group-hover:text-white transition-colors">
                        <i class="fa-solid fa-scale-balanced"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-slate-700 text-sm">‡πÇ‡∏ï‡πâ‡πÅ‡∏¢‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏±‡∏ö</h3>
                        <p class="text-[10px] text-slate-400 mt-1">‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏•‡∏î‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢</p>
                    </div>
                </a>

                <!-- Response Helper -->
                <a href="https://tuikub.github.io/paypoint/response_helper.html" class="hover-card bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex flex-col items-center text-center gap-3 group">
                    <div class="w-12 h-12 rounded-xl bg-green-100 text-green-600 flex items-center justify-center text-2xl group-hover:bg-green-500 group-hover:text-white transition-colors">
                        <i class="fa-solid fa-comments"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-slate-700 text-sm">‡∏Ñ‡∏•‡∏±‡∏á‡∏ñ‡∏≤‡∏°-‡∏ï‡∏≠‡∏ö</h3>
                        <p class="text-[10px] text-slate-400 mt-1">‡∏ä‡πà‡∏ß‡∏¢‡∏ï‡∏≠‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</p>
                    </div>
                </a>

                <!-- Staff Support -->
                <a href="https://tuikub.github.io/paypoint/staff_login.html" class="hover-card bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex flex-col items-center text-center gap-3 group">
                    <div class="w-12 h-12 rounded-xl bg-purple-100 text-purple-600 flex items-center justify-center text-2xl group-hover:bg-purple-500 group-hover:text-white transition-colors">
                        <i class="fa-solid fa-headset"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-slate-700 text-sm">‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠</h3>
                        <p class="text-[10px] text-slate-400 mt-1">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Staff</p>
                    </div>
                </a>
            </div>

            <!-- 2. System Management -->
            <section id="system">
                <div class="section-header">
                    <i class="fa-solid fa-desktop text-blue-600 text-xl"></i>
                    <h2 class="section-title">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <a href="https://merchant.paypoint.in.th/auth/login" target="_blank" class="block p-6 bg-white rounded-xl shadow-sm border border-slate-100 hover:shadow-md transition group">
                        <div class="flex items-center gap-4">
                            <div class="bg-blue-50 text-blue-600 p-3 rounded-full group-hover:bg-blue-600 group-hover:text-white transition">
                                <i class="fa-solid fa-key text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-lg text-slate-800">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö Merchant (New)</h3>
                                <p class="text-sm text-slate-500">‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏µ‡∏¢‡πå‡∏û‡∏±‡∏™‡∏î‡∏∏‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô</p>
                            </div>
                        </div>
                    </a>
                    <a href="https://lookerstudio.google.com/u/0/reporting/4a76f14a-1738-4b1d-af7c-6ce5ef150b97/page/V8SWF" target="_blank" class="block p-6 bg-white rounded-xl shadow-sm border border-slate-100 hover:shadow-md transition group">
                        <div class="flex items-center gap-4">
                            <div class="bg-orange-50 text-orange-600 p-3 rounded-full group-hover:bg-orange-600 group-hover:text-white transition">
                                <i class="fa-solid fa-magnifying-glass text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-lg text-slate-800">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ User / Password</h3>
                                <p class="text-sm text-slate-500">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏™‡∏≤‡∏Ç‡∏≤</p>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="mt-3 text-center">
                    <a href="https://www.paypoint.co.th/member/index.php" target="_blank" class="inline-flex items-center gap-2 text-xs text-red-400 bg-red-50 hover:bg-red-100 px-3 py-1 rounded-full transition border border-red-100">
                        <i class="fa-solid fa-triangle-exclamation"></i> ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Å‡πà‡∏≤ (Paypoint.co.th) ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÅ‡∏•‡πâ‡∏ß
                    </a>
                </div>
            </section>

            <!-- 3. Training & Manuals -->
            <section id="training">
                <div class="section-header">
                    <i class="fa-solid fa-graduation-cap text-green-600 text-xl"></i>
                    <h2 class="section-title">‡∏Å‡∏≤‡∏£‡∏≠‡∏ö‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠</h2>
                </div>
                <div class="bg-white rounded-xl shadow-sm p-6 border border-slate-100">
                    <div class="flex flex-col md:flex-row items-center justify-between gap-6 mb-6 bg-green-50 p-5 rounded-xl border border-green-100">
                        <div class="text-center md:text-left">
                            <h3 class="text-lg font-bold text-green-800 mb-1">‡∏≠‡∏ö‡∏£‡∏°‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå (Google Meet)</h3>
                            <p class="text-sm text-green-700"><i class="fa-regular fa-clock mr-1"></i> ‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå - ‡∏®‡∏∏‡∏Å‡∏£‡πå</p>
                            <p class="text-sm text-green-600">‡πÄ‡∏ä‡πâ‡∏≤: 10.00 ‚Äì 11.30 ‡∏ô. | ‡∏ö‡πà‡∏≤‡∏¢: 13.30 ‚Äì 14.30 ‡∏ô.</p>
                            <div class="mt-2 text-xs bg-white inline-block px-2 py-1 rounded border border-green-200 text-green-600">‡∏£‡∏´‡∏±‡∏™‡∏´‡πâ‡∏≠‡∏á: <b>rxw-bkpd-iut</b></div>
                        </div>
                        <a href="https://meet.google.com/rxw-bkpd-iut" target="_blank" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg shadow-md transition flex items-center gap-2 whitespace-nowrap font-bold">
                            <i class="fa-solid fa-video"></i> ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏≠‡∏ö‡∏£‡∏°
                        </a>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <a href="https://youtube.com/playlist?list=PLDEaXlvkU2-aBb6jaCNszznT9V_ZWc8n8&si=hFfB4ZE322szdhNc" target="_blank" class="flex items-center gap-3 p-4 rounded-lg bg-white border border-slate-200 hover:border-red-400 hover:shadow-sm transition group">
                            <i class="fa-brands fa-youtube text-red-500 text-2xl group-hover:scale-110 transition"></i>
                            <div>
                                <span class="font-bold text-slate-700 block">Youtube Playlist</span>
                                <span class="text-xs text-slate-500">‡∏£‡∏ß‡∏°‡∏Ñ‡∏•‡∏¥‡∏õ‡∏™‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô</span>
                            </div>
                        </a>
                        <a href="https://drive.google.com/drive/folders/14DsJpG__tflMG6U79IUbEYPsUMUNxTgk" target="_blank" class="flex items-center gap-3 p-4 rounded-lg bg-white border border-slate-200 hover:border-blue-400 hover:shadow-sm transition group">
                            <i class="fa-solid fa-file-pdf text-blue-500 text-2xl group-hover:scale-110 transition"></i>
                            <div>
                                <span class="font-bold text-slate-700 block">‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (PDF)</span>
                                <span class="text-xs text-slate-500">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠</span>
                            </div>
                        </a>
                    </div>
                </div>
            </section>

            <!-- 4. Support Contact -->
            <section id="contact" class="mb-10">
                <div class="section-header">
                    <i class="fa-solid fa-headset text-orange-500 text-xl"></i>
                    <h2 class="section-title">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠</h2>
                </div>
                
                <div class="flex flex-wrap justify-center gap-4 mb-8">
                    <a href="tel:0855078656" class="flex items-center gap-2 bg-white px-6 py-3 rounded-full shadow-sm border border-slate-200 text-slate-700 hover:border-green-500 hover:text-green-600 transition font-bold">
                        <i class="fa-solid fa-phone-volume"></i> 085-507-8656
                    </a>
                    <a href="tel:0855158456" class="flex items-center gap-2 bg-white px-6 py-3 rounded-full shadow-sm border border-slate-200 text-slate-700 hover:border-green-500 hover:text-green-600 transition font-bold">
                        <i class="fa-solid fa-phone-volume"></i> 085-515-8456
                    </a>
                </div>

                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <a href="https://lin.ee/g4n2bQXs" target="_blank" class="bg-green-500 hover:bg-green-600 text-white p-4 rounded-xl text-center shadow-sm transition">
                        <i class="fa-brands fa-line text-3xl mb-2"></i>
                        <span class="block text-sm font-bold">‡∏ô‡πâ‡∏≠‡∏á‡πÅ‡∏≠‡∏ô / ‡∏ô‡πâ‡∏≠‡∏á‡∏°‡∏î</span>
                    </a>
                    <a href="https://lin.ee/ZBTSaqA" target="_blank" class="bg-slate-800 hover:bg-slate-900 text-white p-4 rounded-xl text-center shadow-sm transition">
                        <i class="fa-solid fa-laptop-code text-3xl mb-2"></i>
                        <span class="block text-sm font-bold">‡∏ù‡πà‡∏≤‡∏¢‡πÑ‡∏≠‡∏ó‡∏µ (IT)</span>
                    </a>
                    <a href="https://lin.ee/XwvdNg2" target="_blank" class="bg-green-500 hover:bg-green-600 text-white p-4 rounded-xl text-center shadow-sm transition">
                        <i class="fa-brands fa-line text-3xl mb-2"></i>
                        <span class="block text-sm font-bold">‡∏ô‡πâ‡∏≠‡∏á‡∏õ‡∏∏‡πä‡∏Å‡∏Å‡∏µ‡πâ</span>
                    </a>
                    <a href="https://lin.ee/YSE9XbQ" target="_blank" class="bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-xl text-center shadow-sm transition">
                        <i class="fa-solid fa-user-tie text-3xl mb-2"></i>
                        <span class="block text-sm font-bold">‡∏Ñ‡∏∏‡∏ì‡πÇ‡∏≠‡πã / ‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏∏‡πâ‡∏¢</span>
                    </a>
                </div>
            </section>

        </main>

        <!-- Footer -->
        <footer class="bg-slate-900 text-slate-400 py-10 text-center text-sm mt-auto">
            <div class="max-w-7xl mx-auto px-4">
                <img src="https://tuikub.github.io/tracking//paypoint.png" alt="Logo" class="w-10 h-10 object-contain mx-auto mb-4 grayscale opacity-30">
                <p class="mb-2 font-medium text-slate-300">¬© 2024 PAYPOINT FAMILY SYSTEM SUPPORT</p>
                <p class="text-xs">‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏≤‡∏Ç‡∏≤‡πÅ‡∏ü‡∏£‡∏ô‡πÑ‡∏ä‡∏™‡πå</p>
                <p class="text-xs mt-2 opacity-50">Developed by Pratya Chatmontree (Secured)</p>
            </div>
        </footer>

        <!-- AI Chat Floating Button & Modal -->
        <div id="ai-widget-container" class="fixed bottom-6 right-6 z-40 flex flex-col items-end gap-4">
            
            <!-- Chat Box (Embedded) -->
            <div id="chat-window" class="hidden w-[90vw] sm:w-[380px] h-[550px] bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden transition-all duration-300 origin-bottom-right transform scale-95 opacity-0 relative flex flex-col">
                <!-- Chat Header (Red Theme + No Settings Button) -->
                <div class="chat-header">
                    <div class="flex items-center gap-2">
                        <div class="w-8 h-8 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/30">
                            <i class="fa-solid fa-robot text-sm"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-sm">Logistics Support AI</h3>
                            <p class="text-[10px] opacity-90">Paypoint Assistant</p>
                        </div>
                    </div>
                    <button onclick="toggleChat()" class="text-white hover:bg-white/20 p-1 rounded transition"><i class="fa-solid fa-xmark"></i></button>
                </div>

                <!-- Suggestions -->
                <div class="suggestions">
                    <span class="chip" onclick="quickAsk('‡∏ú‡πà‡∏≤‡∏ô‡πÇ‡∏õ‡∏£‡πÑ‡∏î‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á')">‚úÖ ‡∏ú‡πà‡∏≤‡∏ô‡πÇ‡∏õ‡∏£</span>
                    <span class="chip" onclick="quickAsk('‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏á‡∏≤‡∏ô')">üíº ‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà</span>
                    <span class="chip" onclick="quickAsk('‡∏•‡∏∑‡∏°‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏á‡∏≤‡∏ô')">‚è∞ ‡∏•‡∏∑‡∏°‡∏™‡πÅ‡∏Å‡∏ô</span>
                    <span class="chip" onclick="quickAsk('‡πÄ‡∏•‡∏¥‡∏Å‡∏à‡πâ‡∏≤‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏ä‡∏î‡πÄ‡∏ä‡∏¢‡∏¢‡∏±‡∏á‡πÑ‡∏á')">‚öñÔ∏è ‡∏Ñ‡πà‡∏≤‡∏ä‡∏î‡πÄ‡∏ä‡∏¢</span>
                </div>

                <!-- Chat Messages -->
                <div class="chat-messages" id="chat-messages">
                    <div class="msg bot">
                        ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏ú‡∏°‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏£‡πâ‡∏≤‡∏ô Paypoint ü§ñ<br>
                        ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏™‡∏á‡∏™‡∏±‡∏¢‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏ô‡∏™‡πà‡∏á, ‡∏á‡∏≤‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô ‡∏ñ‡∏≤‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö!
                    </div>
                </div>

                <!-- Input Area -->
                <div class="chat-input-area">
                    <input type="text" id="userInput" class="chat-input" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..." onkeypress="handleKeyPress(event)">
                    <button class="chat-send-btn" onclick="sendMessage()"><i class="fa-solid fa-paper-plane"></i></button>
                </div>
                
                <!-- Watermark -->
                <div class="text-[10px] text-slate-400 text-center pb-2 bg-white">
                    Powered by Dual AI (Gemini + Together)
                </div>
            </div>

            <!-- Toggle Button (Red Gradient) -->
            <button onclick="toggleChat()" id="chat-toggle-btn" class="group flex items-center gap-2 bg-gradient-to-br from-red-600 to-orange-500 hover:from-red-700 hover:to-orange-600 text-white p-4 rounded-full shadow-lg hover:shadow-2xl hover:scale-105 transition-all duration-300 ring-4 ring-white/30">
                <span class="hidden group-hover:block text-sm font-bold pr-2 pl-1 animate-fadeIn">‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤ AI</span>
                <i class="fa-solid fa-robot text-xl animate-bounce"></i>
            </button>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // --- Security Logic ---
        function checkPassword(event) {
            event.preventDefault();
            const input = document.getElementById('passwordInput').value;
            const errorMsg = document.getElementById('error-msg');
            const lockScreen = document.getElementById('lock-screen');
            const content = document.getElementById('app-content');
            const body = document.getElementById('main-body');

            if (input === '02817648++') {
                lockScreen.style.opacity = '0';
                lockScreen.style.transition = 'opacity 0.5s';
                setTimeout(() => {
                    lockScreen.style.display = 'none';
                    content.classList.remove('hidden');
                    body.classList.remove('overflow-hidden');
                }, 500);
            } else {
                errorMsg.classList.remove('hidden');
                document.getElementById('passwordInput').value = '';
            }
        }

        // --- Chat Widget Logic ---
        const chatWindow = document.getElementById('chat-window');

        function toggleChat() {
            if (chatWindow.classList.contains('hidden')) {
                chatWindow.classList.remove('hidden');
                setTimeout(() => {
                    chatWindow.classList.remove('scale-95', 'opacity-0');
                    chatWindow.classList.add('scale-100', 'opacity-100');
                }, 10);
            } else {
                chatWindow.classList.remove('scale-100', 'opacity-100');
                chatWindow.classList.add('scale-95', 'opacity-0');
                setTimeout(() => chatWindow.classList.add('hidden'), 300);
            }
        }

        // --- AI Logic (Embedded) ---
        // üîë API KEYS (Hardcoded - No Settings Panel)
        const GEMINI_API_KEY = "AIzaSyCBr6LjhCCkJVwkAJTqEIMuIekkjl3X6r4"; 
        const TOGETHER_API_KEY = "f1ab2db1ed0da368ff5d3001a70855fac21f2b161a12021e44c1e3e75f05e575";

        // Local Database
        const localDatabase = [
            { keywords: ["‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô", "‡πÄ‡∏Ç‡πâ‡∏≤‡∏á‡∏≤‡∏ô"], answer: "üìå **‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô**: ‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå-‡∏®‡∏∏‡∏Å‡∏£‡πå (‡∏™‡∏ô‡∏á.) ‡∏´‡∏£‡∏∑‡∏≠ ‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå-‡πÄ‡∏™‡∏≤‡∏£‡πå (‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£) 08.30-17.30 ‡∏ô." },
            { keywords: ["‡∏•‡∏∑‡∏°‡∏™‡πÅ‡∏Å‡∏ô", "‡∏•‡∏∑‡∏°‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤"], answer: "üìå **‡∏•‡∏∑‡∏°‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤**: ‡πÅ‡∏à‡πâ‡∏á '‡∏Ç‡∏≠‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡πÄ‡∏ß‡∏•‡∏≤' ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö ‡πÉ‡∏´‡πâ‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 21" },
            { keywords: ["‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢"], answer: "üìå **‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢**: ‡πÅ‡∏à‡πâ‡∏á‡∏Å‡πà‡∏≠‡∏ô 10.00 ‡∏ô. ‡∏´‡∏≤‡∏Å‡∏•‡∏≤ 3 ‡∏ß‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡πÅ‡∏û‡∏ó‡∏¢‡πå" },
            { keywords: ["‡∏û‡∏±‡∏Å‡∏£‡πâ‡∏≠‡∏ô"], answer: "üìå **‡∏û‡∏±‡∏Å‡∏£‡πâ‡∏≠‡∏ô**: ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥ 6 ‡∏ß‡∏±‡∏ô/‡∏õ‡∏µ (‡∏≠‡∏≤‡∏¢‡∏∏‡∏á‡∏≤‡∏ô 1 ‡∏õ‡∏µ) ‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤ 7 ‡∏ß‡∏±‡∏ô" },
            { keywords: ["‡∏•‡∏≤‡∏Å‡∏¥‡∏à"], answer: "üìå **‡∏•‡∏≤‡∏Å‡∏¥‡∏à**: 3 ‡∏ß‡∏±‡∏ô/‡∏õ‡∏µ (‡∏ú‡πà‡∏≤‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏•‡πâ‡∏ß) ‡∏Ç‡∏≠‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤ 3 ‡∏ß‡∏±‡∏ô" },
            { keywords: ["‡∏•‡∏≤‡∏Ñ‡∏•‡∏≠‡∏î"], answer: "üìå **‡∏•‡∏≤‡∏Ñ‡∏•‡∏≠‡∏î**: 98 ‡∏ß‡∏±‡∏ô (‡∏à‡πà‡∏≤‡∏¢ 45 ‡∏ß‡∏±‡∏ô) ‡πÄ‡∏ö‡∏¥‡∏Å‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ 15,000 + 50%" },
            { keywords: ["‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏á‡∏≤‡∏ô", "‡∏ú‡πà‡∏≤‡∏ô‡πÇ‡∏õ‡∏£"], answer: "üìå **‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏á‡∏≤‡∏ô**: 119 ‡∏ß‡∏±‡∏ô (‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡πà‡∏≤‡∏ô‡πÇ‡∏õ‡∏£‡πÑ‡∏î‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏•‡∏≤‡∏Å‡∏¥‡∏à 3 ‡∏ß‡∏±‡∏ô/‡∏õ‡∏µ)" },
            { keywords: ["‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏á‡∏≤‡∏ô", "‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà"], answer: "üìå **‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏á‡∏≤‡∏ô**: ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ù‡πà‡∏≤‡∏¢‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• ‡πÇ‡∏ó‡∏£ 02-451-533-5 ‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏π‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå" },
            { keywords: ["‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠", "hr"], answer: "üìû **‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ HR**: ‡πÇ‡∏ó‡∏£ 02-451-533-5 ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏•‡∏ô‡πå‡∏ô‡πâ‡∏≠‡∏á‡πÅ‡∏≠‡∏ô/‡∏ô‡πâ‡∏≠‡∏á‡∏°‡∏î" }
        ];

        async function sendMessage() {
            const inputField = document.getElementById("userInput");
            const message = inputField.value.trim();
            if (!message) return;

            addMessage(message, 'user');
            inputField.value = '';
            
            // 1. Local Search
            const localMatch = checkLocalDB(message);
            if (localMatch) {
                setTimeout(() => addMessage(localMatch, 'bot'), 400);
                return;
            }

            // 2. AI Process
            addMessage("... ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ...", 'bot', true); 

            try {
                // A. Gemini (Primary)
                const geminiResponse = await callGeminiAPI(message);
                removeLoadingMessage();
                addMessage(geminiResponse, 'bot');
            } catch (geminiError) {
                console.error("Gemini Failed, switching to backup...", geminiError);
                // B. Together AI (Backup)
                try {
                    const togetherResponse = await callTogetherAPI(message);
                    removeLoadingMessage();
                    addMessage(togetherResponse + "<br><small style='color:#ef4444; font-size:0.7em;'>(‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô)</small>", 'bot', false, 'backup');
                } catch (togetherError) {
                    removeLoadingMessage();
                    addMessage("‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‡∏£‡∏∞‡∏ö‡∏ö AI ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏≠‡∏ö‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ", 'bot');
                }
            }
        }

        function checkLocalDB(query) {
            const lowerQuery = query.toLowerCase();
            let bestMatch = null;
            let maxScore = 0;
            for (let item of localDatabase) {
                let score = 0;
                item.keywords.forEach(k => { if (lowerQuery.includes(k)) score++; });
                if (score > maxScore) { maxScore = score; bestMatch = item.answer; }
            }
            return bestMatch;
        }

        async function callGeminiAPI(userPrompt) {
            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${GEMINI_API_KEY}`;
            const requestBody = { contents: [{ parts: [{ text: "‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢ HR ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô ‡∏™‡∏±‡πâ‡∏ô‡πÜ ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢\n\nUser: " + userPrompt }] }] };
            const response = await fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(requestBody) });
            if (!response.ok) throw new Error("Gemini Error");
            const data = await response.json();
            return data.candidates[0].content.parts[0].text;
        }

        async function callTogetherAPI(userPrompt) {
            const url = "https://api.together.xyz/v1/chat/completions";
            const requestBody = {
                model: "meta-llama/Llama-3.2-3B-Instruct-Turbo",
                messages: [{ role: "system", content: "‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡πÑ‡∏ó‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢" }, { role: "user", content: userPrompt }],
                max_tokens: 512
            };
            const response = await fetch(url, { method: 'POST', headers: { 'Authorization': `Bearer ${TOGETHER_API_KEY}`, 'Content-Type': 'application/json' }, body: JSON.stringify(requestBody) });
            if (!response.ok) throw new Error("Together Error");
            const data = await response.json();
            return data.choices[0].message.content;
        }

        function addMessage(text, sender, isLoading = false, type = 'normal') {
            const chatBox = document.getElementById("chat-messages");
            const msgDiv = document.createElement("div");
            msgDiv.className = `msg ${sender} ${type}`;
            if (isLoading) msgDiv.id = "loadingMsg";
            
            // Markdown Basic Parsing (Bold & Break)
            let formattedText = text.replace(/\*\*(.*?)\*\*/g, '<b>$1</b>').replace(/\n/g, '<br>');
            
            // Typing Animation HTML
            if (isLoading) {
               formattedText = `<div class="flex items-center space-x-1 h-4">
                                    <div class="w-1.5 h-1.5 bg-gray-400 rounded-full typing-dot"></div>
                                    <div class="w-1.5 h-1.5 bg-gray-400 rounded-full typing-dot"></div>
                                    <div class="w-1.5 h-1.5 bg-gray-400 rounded-full typing-dot"></div>
                                </div>`;
            }

            msgDiv.innerHTML = formattedText;
            
            chatBox.appendChild(msgDiv);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function removeLoadingMessage() {
            const loadingMsg = document.getElementById("loadingMsg");
            if (loadingMsg) loadingMsg.remove();
        }

        function handleKeyPress(e) { if (e.key === 'Enter') sendMessage(); }
        function quickAsk(q) { document.getElementById("userInput").value = q; sendMessage(); }
    </script>
</body>
</html>
